{% extends 'django_spire/infinite_scroll/base.html' %}

{% block scroll_toolbar %}
    <div class="row justify-content-between align-items-center mb-3">
        <div class="col">
            <h1 class="fs-1 fw-semi-bold">Tasks</h1>
        </div>
        <div class="col-auto d-flex align-items-center" style="min-height: 2.0rem;">
            {% block card_button %}{% endblock %}
        </div>
    </div>

    {% include 'queryset_filtering/form/list_filter_form.html' %}
{% endblock %}

{% block scroll_container %}
    <div
        class="position-relative p-3 mt-3 bg-app-layer-one"
        style="height: calc(100vh - 350px); overflow-x: hidden; overflow-y: auto; overscroll-behavior: contain; -webkit-overflow-scrolling: touch;"
        x-ref="scroll_container"
    >
        <div x-ref="content_container">
            {% block scroll_content %}{% endblock %}
        </div>

        <div x-cloak x-show="is_loading && !is_refreshing" class="text-center py-3">
            <div class="spinner-border" role="status"></div>
        </div>

        <div style="height: 10px;" x-ref="infinite_scroll_trigger"></div>
    </div>
{% endblock %}

{% block scroll_footer %}
    <div class="row mt-3 mb-5 px-3">
        <div class="col text-start">
            <span class="fs-7 text-app-secondary">
                Showing <span x-text="loaded_count"></span> of <span x-text="total_count"></span> items
            </span>
        </div>
    </div>
{% endblock %}
