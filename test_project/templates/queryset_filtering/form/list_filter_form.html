{% extends 'django_spire/filtering/form/base_session_filter_form.html' %}

{% load queryset_tags %}

{% block session_filter_key %}task_list_filter{% endblock %}

{% block filter_content %}
    <div
        class="row g-2"
        x-data="{
            init() {
                this.search_value.set_attribute('placeholder', 'Search...')
            },
            search_value: new GlueCharField(
                'search_value',
                {
                    value: '{{ task_filter_session.search_value|default:"" }}',
                    label: 'Search',
                    name: 'search_value',
                }
            ),
            name: new GlueIntegerField(
                'name',
                {
                    value: '{{ task_filter_session.name|default:"" }}',
                }
            ),
            'status': new GlueIntegerField(
                'status',
                {
                    value: '{{ task_filter_session.search_value|default:"com" }}',
                    choices: [
                        ['com', 'Complete'],
                        ['new', 'New'],
                    ],
                }
            ),
        }"
    >
        <div class="col-4">
            {% include 'django_glue/form/field/char_field.html' with glue_field='search_value' %}
        </div>
        <div class="col-4">
            {% include 'django_glue/form/field/char_field.html' with glue_field='name' %}
        </div>
        <div class="col-4">
            {% include 'django_glue/form/field/select_field.html' with glue_field='status' %}
        </div>
    </div>
{% endblock %}