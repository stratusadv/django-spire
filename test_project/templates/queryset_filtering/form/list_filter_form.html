{% extends 'django_spire/filtering/form/base_session_filter_form.html' %}

{% load queryset_tags %}

{% block session_filter_key %}task_list_page{% endblock %}

{% block filter_content %}
    <div
        class="row"
        x-data="{
            init() {
                this.search_value.set_attribute('placeholder', 'Search first and last name...')
            },
            search_value: new GlueCharField(
                'search_value',
                {
                    value: '{% session_queryset_filter "task_list_page" "search_value" "" %}',
                    label: 'Search',
                    name: 'search_value',
                }
            ),
            name: new GlueIntegerField(
                'name',
                {
                    value: '{% session_queryset_filter "task_list_page" "name" "" %}',
                }
            ),
            'status': new GlueIntegerField(
                'status',
                {
                    value: '{% session_queryset_filter "task_list_page" "status" "com" %}',
                    choices: [
                        ['com', 'Complete'],
                        ['new', 'New'],
                    ],
                }
            ),
        }"
    >
        <div class="col-12">
            {% include 'django_glue/form/field/char_field.html' with glue_field='search_value' %}
        </div>
        <div class="col-12">
            {% include 'django_glue/form/field/char_field.html' with glue_field='name' %}
        </div>
        <div class="col-12">
            {% include 'django_glue/form/field/select_field.html' with glue_field='status' %}
        </div>
    </div>
{% endblock %}